@using VConnect.Models
@{
    var nav = new NavViewModel
    {
        LogoUrl = Url.Content("~/images/j.png"),
        ApplyNowUrl = null,
        Items = new List<NavItem>
        {
            new NavItem { Text = "Home",            Url = Url.Action("Index","Home") },
            new NavItem { Text = "Donate",          Url = Url.Action("Create","Donation") },
            new NavItem { Text = "Case Studies",    Url = Url.Action("Index","Case") },
            new NavItem { Text = "Meet Our Heroes", Url = Url.Action("Index","Heroes") },
            new NavItem { Text = "About Us",        Url = Url.Action("Index","About") },
        }
    };



    if (User?.Identity?.IsAuthenticated == true)
    {
        // Insert Events at position 4 (after "Meet Our Heroes")
        nav.Items.Insert(4, new NavItem
        {
            Text = "Events",
            Url = Url.Action("Index", "Events")
        });
    }

    // Mark active item
    var currentPath = Context.Request.Path.Value?.ToLowerInvariant() ?? "";
    foreach (var item in nav.Items)
    {
        if (!string.IsNullOrWhiteSpace(item.Url) &&
            currentPath.StartsWith(item.Url.ToLowerInvariant()))
        {
            item.IsActive = true;
        }
    }


    
  
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - VConnect</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />

    <!-- Site CSS -->
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />

    <!-- Font Awesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <!-- Render Styles section if defined -->
    @if (IsSectionDefined("Styles"))
    {
        @RenderSection("Styles", required: false)
    }
</head>
<body>
    <!-- Navbar -->
    @Html.Partial("_HeaderPublic", nav)

    <!-- Main content -->
    <main role="main" class="pt-4">
        @RenderBody()
    </main>

    <!-- Footer -->
    @Html.Partial("_Footer") 

    <!-- jQuery -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>

    @* <!-- jQuery Validation -->
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation-unobtrusive@3.2.13/dist/jquery.validate.unobtrusive.min.js"></script> *@


    <!-- Bootstrap JS bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Site JS -->
    <script src="~/js/site.js" asp-append-version="true"></script>

    <!-- Render Scripts section if defined -->
    @if (IsSectionDefined("Scripts"))
    {
        @RenderSection("Scripts", required: false)
    }
</body>
</html>


